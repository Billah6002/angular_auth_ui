<div class="container mt-5">
  <div class="card shadow">
    <div class="card-header bg-primary text-white">
      <h4>ğŸ’¬ Live Chat</h4>
    </div>
    
    <div class="card-body" style="height: 400px; overflow-y: auto;">
      
      <ul class="list-group list-group-flush">
        <li class="list-group-item" *ngFor="let msg of chatService.messages$ | async">
          <strong>{{ msg.user }}:</strong> {{ msg.message }}
        </li>
      </ul>
      
      <div *ngIf="(chatService.messages$ | async)?.length === 0" class="text-center text-muted mt-5">
        <p>No messages yet. Say hello!</p>
      </div>
    </div>

    <div class="card-footer">
      <div class="input-group">
        
        <input type="text" 
               class="form-control" 
               placeholder="Type a message..." 
               [(ngModel)]="newMessage"
               (keyup.enter)="sendMessage()"
               [disabled]="(chatService.connectionState$ | async) === false">
               
        <button class="btn btn-primary" 
                (click)="sendMessage()"
                [disabled]="(chatService.connectionState$ | async) === false">
          
          <span *ngIf="(chatService.connectionState$ | async)">Send ğŸš€</span>
          <span *ngIf="(chatService.connectionState$ | async) === false">Connecting... â³</span>
        
        </button>
      </div>
    </div>
  </div>
  
  <div class="mt-3">
    <a routerLink="/dashboard" class="btn btn-secondary">Back to Dashboard</a>
  </div>
</div>